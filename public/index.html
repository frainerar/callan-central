<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registro Diario Docente</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .tabs {
      display: flex;
      gap: 10px;
      margin: 20px 0;
    }
    .tab {
      padding: 10px 20px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 8px;
      cursor: pointer;
      color: #94a3b8;
    }
    .tab.active {
      background: #38bdf8;
      color: #0f172a;
    }
    .section {
      display: none;
    }
    .section.active {
      display: block;
    }
    .stats-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .stat-mini-card {
      background: rgba(255,255,255,0.05);
      padding: 15px;
      border-radius: 12px;
      text-align: center;
    }
    .stat-mini-card h4 {
      color: #94a3b8;
      font-size: 12px;
      margin-bottom: 5px;
    }
    .stat-mini-card p {
      font-size: 24px;
      font-weight: bold;
      color: #38bdf8;
    }
    .action-btn {
      padding: 4px 8px;
      margin: 0 2px;
      font-size: 12px;
    }
    .edit-btn { background: #f59e0b; }
    .delete-btn { background: #ef4444; }
  </style>
</head>
<body>

<div class="app">
  <!-- Sidebar -->
  <aside class="sidebar">
    <h1>EDU SYS</h1>
    <nav>
      <a class="active" onclick="cambiarTab('form')">üìù Registrar</a>
      <a onclick="cambiarTab('all')">üìã Todos los registros</a>
      <a onclick="cambiarTab('stats')">üìä Mis estad√≠sticas</a>
    </nav>
    <button id="logout" class="logout">Cerrar sesi√≥n</button>
  </aside>

  <main class="content">
    <header>
      <h2>Sistema de Registro Docente</h2>
      <p id="bienvenida"></p>
    </header>

    <!-- SECCI√ìN 1: FORMULARIO -->
    <div id="section-form" class="section active">
      <div class="card">
        <h3>Registrar nueva clase</h3>
        <form id="registroForm">
          <label>Fecha:</label><br>
          <input type="date" id="fecha" required><br><br>

          <label>Materia:</label><br>
          <input type="text" id="materia" required><br><br>

          <label>Grado:</label><br>
          <input type="text" id="grado" required><br><br>

          <label>Contenido trabajado:</label><br>
          <textarea id="contenido" required></textarea><br><br>

          <label>Observaciones:</label><br>
          <textarea id="observaciones"></textarea><br><br>

          <button type="submit">Guardar Registro</button>
        </form>
        <p id="mensaje"></p>
      </div>
    </div>

    <!-- SECCI√ìN 2: TODOS LOS REGISTROS -->
    <div id="section-all" class="section">
      <div class="stats-cards">
        <div class="stat-mini-card">
          <h4>TOTAL REGISTROS</h4>
          <p id="totalRegAll">0</p>
        </div>
        <div class="stat-mini-card">
          <h4>PROFESORES</h4>
          <p id="totalProfAll">0</p>
        </div>
        <div class="stat-mini-card">
          <h4>MATERIAS</h4>
          <p id="totalMatAll">0</p>
        </div>
      </div>

      <div class="filters card">
        <input type="date" id="filtroFechaAll" placeholder="Filtrar por fecha">
        <input type="text" id="filtroProfesorAll" placeholder="Buscar profesor">
        <input type="text" id="filtroMateriaAll" placeholder="Buscar materia">
        <button id="btnFiltrarAll">Filtrar</button>
        <button id="btnResetAll" class="secondary">Reset</button>
      </div>

      <div class="card table-container">
        <table id="tablaTodosRegistros">
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Profesor</th>
              <th>Materia</th>
              <th>Grado</th>
              <th>Contenido</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- SECCI√ìN 3: MIS ESTAD√çSTICAS -->
    <div id="section-stats" class="section">
      <div class="stats-cards">
        <div class="stat-mini-card">
          <h4>MIS REGISTROS</h4>
          <p id="misRegistros">0</p>
        </div>
        <div class="stat-mini-card">
          <h4>MATERIAS QUE DOY</h4>
          <p id="misMaterias">0</p>
        </div>
        <div class="stat-mini-card">
          <h4>GRADOS</h4>
          <p id="misGrados">0</p>
        </div>
      </div>

      <div class="card">
        <h3>Registros por materia</h3>
        <div id="graficoMaterias" style="height: 200px; background: rgba(255,255,255,0.05); border-radius: 8px; padding: 20px;">
          <!-- Ac√° ir√≠a un gr√°fico, por ahora texto -->
        </div>
      </div>

      <div class="card" style="margin-top: 20px;">
        <h3>Mis √∫ltimos 5 registros</h3>
        <table id="tablaMisUltimos">
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Materia</th>
              <th>Grado</th>
              <th>Contenido</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </main>
</div>

<script type="module" src="formulario-mejorado.js"></script>
<script>
  function cambiarTab(tabId) {
    // Ocultar todas las secciones
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.sidebar nav a').forEach(a => a.classList.remove('active'));
    
    // Mostrar la seleccionada
    document.getElementById(`section-${tabId}`).classList.add('active');
    event.target.classList.add('active');
  }
</script>

</body>
</html>
